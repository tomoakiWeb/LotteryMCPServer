# 年末ジャンボ宝くじシミュレーター MCP Server

年末ジャンボ宝くじの購入シミュレーションを行うModel Context Protocol (MCP) サーバーです。

## 機能

- 任意の枚数の宝くじを購入した場合のシミュレーション
- 各等級の当選本数と当選金額の表示
- 購入金額と当選金額の収支計算
- 還元率の表示

## 年末ジャンボ宝くじデータ（2025年）

| 等級 | 当せん金 | 本数 |
|------|----------|------|
| 1等 | 700,000,000円 | 23本 |
| 1等前後賞 | 150,000,000円 | 46本 |
| 1等組違い賞 | 100,000円 | 4,577本 |
| 2等 | 100,000,000円 | 23本 |
| 3等 | 10,000,000円 | 92本 |
| 4等 | 1,000,000円 | 920本 |
| 5等 | 10,000円 | 1,380,000本 |
| 6等 | 3,000円 | 4,600,000本 |
| 7等 | 300円 | 46,000,000本 |

※発売総額1,380億円・23ユニットの場合（1ユニット2,000万枚）

[link](https://www.takarakuji-official.jp/brand/jumbo/product/product.html)

## セットアップ

### 前提条件

- **macOS**: 13.0以上
- **Swift**: 6.2以上
- **Xcode**: 16.0以上

### ビルド

```bash
swift build
```

## 実行・クライアント設定（Claude Desktop）

Claude DesktopのMCPサーバー設定ファイルに以下を追加します。

**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "lottery-simulator": {
      "command": "LotteryMCPServerへのPath/.build/debug/LotteryMCPServer"
    }
  }
}
```

> **注意**: パスは実際のプロジェクトの場所に合わせて変更してください。

設定後、**Claude Desktopを再起動**してください。

## 利用可能なツール

### `simulate_lottery`

年末ジャンボ宝くじのシミュレーションを実行します。

**パラメータ:**
- `tickets` (integer, 必須): 購入する宝くじの枚数（1以上）

**使用例（Claude Desktop）:**
```
10枚の宝くじを買ったらどうなるかシミュレーションして
```

**出力例:**
```
10枚の年末ジャンボ宝くじを購入した場合のシミュレーションを実行しますね。
レスポンス年末ジャンボ宝くじシミュレーション結果
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
購入枚数: 10枚
購入金額: ¥3,000

【当選結果】
6等: 1本 - ¥3,000
7等: 1本 - ¥300

【収支】
総当選金額: ¥3,300
収支: +¥300
還元率: 110.00%おお、今回のシミュレーションではラッキーでした！
結果サマリー:

購入金額：3,000円（10枚 × 300円）
当選金額：3,300円
収支：+300円のプラス

当選内訳:

6等（3,000円）が1本
7等（300円）が1本

還元率110%で、珍しくプラス収支になりました。10枚程度の少数購入では、ほとんどの場合は末等（7等の300円）が数本当たる程度で赤字になることが多いので、今回は運が良かったですね。
実際の年末ジャンボでも、このように少額でもプラスになることはありますが、統計的には購入金額の約50%程度しか戻ってこないのが平均的な結果です。
```

## 技術スタック

- **Swift**: 6.2+
- **Swift MCP SDK**: [modelcontextprotocol/swift-sdk](https://github.com/modelcontextprotocol/swift-sdk)
- **プラットフォーム**: macOS 13.0+

## ライセンス

MIT License
